C:\Users\samue\AppData\Local\Programs\Python\Python312\Lib\site-packages\fs\__init__.py:4: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  __import__("pkg_resources").declare_namespace(__name__)  # type: ignore
============================= test session starts =============================
platform win32 -- Python 3.12.0, pytest-7.4.0, pluggy-1.6.0 -- C:\Users\samue\AppData\Local\Programs\Python\Python312\python.exe
cachedir: .pytest_cache
Fugue tests will be initialized with options:
rootdir: C:\Users\samue\Desktop\NSP\healthcare-appointments
configfile: pytest.ini
plugins: anyio-4.11.0, dash-3.2.0, fugue-0.9.1, asyncio-0.21.1, cov-4.1.0, typeguard-4.4.4
asyncio: mode=Mode.AUTO
collecting ... collected 94 items

tests/test_data_cleaner.py::TestDataCleaner::test_initialization PASSED  [  1%]
tests/test_data_cleaner.py::TestDataCleaner::test_clean_column_names PASSED [  2%]
tests/test_data_cleaner.py::TestDataCleaner::test_fix_age_outliers PASSED [  3%]
tests/test_data_cleaner.py::TestDataCleaner::test_fix_noshow_encoding PASSED [  4%]
tests/test_data_cleaner.py::TestDataCleaner::test_clean_dates PASSED     [  5%]
tests/test_data_cleaner.py::TestDataCleaner::test_remove_duplicates PASSED [  6%]
tests/test_data_cleaner.py::TestDataCleaner::test_handle_missing_values PASSED [  7%]
tests/test_data_cleaner.py::TestDataCleaner::test_standardize_text_columns PASSED [  8%]
tests/test_data_cleaner.py::TestDataCleaner::test_clean_pipeline PASSED  [  9%]
tests/test_data_cleaner.py::TestEdgeCases::test_empty_dataframe PASSED   [ 10%]
tests/test_data_cleaner.py::TestEdgeCases::test_missing_columns PASSED   [ 11%]
tests/test_data_cleaner.py::TestEdgeCases::test_all_missing_values PASSED [ 12%]
tests/test_feature_engineer.py::TestFeatureEngineer::test_initialization PASSED [ 13%]
tests/test_feature_engineer.py::TestFeatureEngineer::test_create_lead_time PASSED [ 14%]
tests/test_feature_engineer.py::TestFeatureEngineer::test_create_age_groups PASSED [ 15%]
tests/test_feature_engineer.py::TestFeatureEngineer::test_create_lead_time_category PASSED [ 17%]
tests/test_feature_engineer.py::TestFeatureEngineer::test_create_time_features PASSED [ 18%]
tests/test_feature_engineer.py::TestFeatureEngineer::test_create_patient_history PASSED [ 19%]
tests/test_feature_engineer.py::TestFeatureEngineer::test_create_health_features PASSED [ 20%]
tests/test_feature_engineer.py::TestFeatureEngineer::test_create_socioeconomic_features PASSED [ 21%]
tests/test_feature_engineer.py::TestFeatureEngineer::test_create_interaction_features PASSED [ 22%]
tests/test_feature_engineer.py::TestFeatureEngineer::test_engineer_all_features PASSED [ 23%]
tests/test_feature_engineer.py::TestEdgeCasesFeatureEngineer::test_missing_columns PASSED [ 24%]
tests/test_feature_engineer.py::TestEdgeCasesFeatureEngineer::test_single_row_dataframe PASSED [ 25%]
tests/test_risk_scorer.py::TestRiskScorer::test_initialization PASSED    [ 26%]
tests/test_risk_scorer.py::TestRiskScorer::test_intervention_protocol_dataclass PASSED [ 27%]
tests/test_risk_scorer.py::TestRiskScorer::test_calculate_patient_risk PASSED [ 28%]
tests/test_risk_scorer.py::TestRiskScorer::test_calculate_time_risk PASSED [ 29%]
tests/test_risk_scorer.py::TestRiskScorer::test_calculate_demographic_risk PASSED [ 30%]
tests/test_risk_scorer.py::TestRiskScorer::test_calculate_health_risk PASSED [ 31%]
tests/test_risk_scorer.py::TestRiskScorer::test_calculate_neighborhood_risk PASSED [ 32%]
tests/test_risk_scorer.py::TestRiskScorer::test_calculate_composite_risk PASSED [ 34%]
tests/test_risk_scorer.py::TestRiskScorer::test_assign_risk_tier PASSED  [ 35%]
tests/test_risk_scorer.py::TestRiskScorer::test_get_intervention_protocol PASSED [ 36%]
tests/test_risk_scorer.py::TestRiskScorer::test_add_intervention_recommendations PASSED [ 37%]
tests/test_risk_scorer.py::TestRiskScorer::test_score_pipeline PASSED    [ 38%]
tests/test_risk_scorer.py::TestRiskScorerEdgeCases::test_empty_dataframe PASSED [ 39%]
tests/test_risk_scorer.py::TestRiskScorerEdgeCases::test_missing_features PASSED [ 40%]
tests/test_risk_scorer.py::TestRiskScorerEdgeCases::test_nan_values PASSED [ 41%]
tests/test_api/test_health.py::TestHealthEndpoints::test_root_redirects_to_docs PASSED [ 42%]
tests/test_api/test_health.py::TestHealthEndpoints::test_health_check_success PASSED [ 43%]
tests/test_api/test_health.py::TestHealthEndpoints::test_health_check_includes_model_info PASSED [ 44%]
tests/test_api/test_health.py::TestHealthEndpoints::test_readiness_check PASSED [ 45%]
tests/test_api/test_health.py::TestHealthEndpoints::test_liveness_check PASSED [ 46%]
tests/test_api/test_health.py::TestHealthEndpoints::test_health_response_time PASSED [ 47%]
tests/test_api/test_health.py::TestAPIInfo::test_openapi_schema_available PASSED [ 48%]
tests/test_api/test_health.py::TestAPIInfo::test_docs_available PASSED   [ 50%]
tests/test_api/test_health.py::TestAPIInfo::test_redoc_available PASSED  [ 51%]
tests/test_api/test_integration.py::TestAPIIntegration::test_full_prediction_workflow PASSED [ 52%]
tests/test_api/test_integration.py::TestAPIIntegration::test_batch_prediction_workflow PASSED [ 53%]
tests/test_api/test_integration.py::TestAPIIntegration::test_error_handling_workflow PASSED [ 54%]
tests/test_api/test_integration.py::TestAPIIntegration::test_concurrent_predictions PASSED [ 55%]
tests/test_api/test_integration.py::TestAPIIntegration::test_response_times PASSED [ 56%]
tests/test_api/test_predictions.py::TestSinglePrediction::test_predict_with_valid_data PASSED [ 57%]
tests/test_api/test_predictions.py::TestSinglePrediction::test_predict_with_minimal_data PASSED [ 58%]
tests/test_api/test_predictions.py::TestSinglePrediction::test_predict_with_full_data PASSED [ 59%]
tests/test_api/test_predictions.py::TestSinglePrediction::test_predict_with_custom_threshold PASSED [ 60%]
tests/test_api/test_predictions.py::TestSinglePrediction::test_predict_with_explanation PASSED [ 61%]
tests/test_api/test_predictions.py::TestSinglePrediction::test_predict_returns_risk_tier PASSED [ 62%]
tests/test_api/test_predictions.py::TestSinglePrediction::test_predict_returns_intervention PASSED [ 63%]
tests/test_api/test_predictions.py::TestSinglePrediction::test_predict_response_has_timestamp PASSED [ 64%]
tests/test_api/test_predictions.py::TestPredictionValidation::test_predict_rejects_missing_required_fields PASSED [ 65%]
tests/test_api/test_predictions.py::TestPredictionValidation::test_predict_rejects_invalid_age PASSED [ 67%]
tests/test_api/test_predictions.py::TestPredictionValidation::test_predict_rejects_invalid_gender PASSED [ 68%]
tests/test_api/test_predictions.py::TestPredictionValidation::test_predict_rejects_invalid_lead_days PASSED [ 69%]
tests/test_api/test_predictions.py::TestPredictionValidation::test_predict_rejects_invalid_binary_fields PASSED [ 70%]
tests/test_api/test_predictions.py::TestPredictionValidation::test_predict_rejects_invalid_threshold PASSED [ 71%]
tests/test_api/test_predictions.py::TestPredictionValidation::test_predict_accepts_gender_variations PASSED [ 72%]
tests/test_api/test_predictions.py::TestBatchPrediction::test_batch_predict_success PASSED [ 73%]
tests/test_api/test_predictions.py::TestBatchPrediction::test_batch_predict_includes_summary PASSED [ 74%]
tests/test_api/test_predictions.py::TestBatchPrediction::test_batch_predict_empty_list_rejected PASSED [ 75%]
tests/test_api/test_predictions.py::TestBatchPrediction::test_batch_predict_large_batch PASSED [ 76%]
tests/test_api/test_predictions.py::TestQuickPrediction::test_quick_predict_success PASSED [ 77%]
tests/test_api/test_predictions.py::TestQuickPrediction::test_quick_predict_missing_params PASSED [ 78%]
tests/test_api/test_predictions.py::TestThresholdInfo::test_get_thresholds PASSED [ 79%]
tests/test_api/test_schemas.py::TestAppointmentFeatures::test_valid_appointment PASSED [ 80%]
tests/test_api/test_schemas.py::TestAppointmentFeatures::test_default_values PASSED [ 81%]
tests/test_api/test_schemas.py::TestAppointmentFeatures::test_age_validation PASSED [ 82%]
tests/test_api/test_schemas.py::TestAppointmentFeatures::test_gender_validation PASSED [ 84%]
tests/test_api/test_schemas.py::TestAppointmentFeatures::test_binary_field_validation PASSED [ 85%]
tests/test_api/test_schemas.py::TestAppointmentFeatures::test_handicap_validation PASSED [ 86%]
tests/test_api/test_schemas.py::TestAppointmentFeatures::test_optional_fields PASSED [ 87%]
tests/test_api/test_schemas.py::TestRiskAssessment::test_create_minimal_risk PASSED [ 88%]
tests/test_api/test_schemas.py::TestRiskAssessment::test_create_low_risk PASSED [ 89%]
tests/test_api/test_schemas.py::TestRiskAssessment::test_create_medium_risk PASSED [ 90%]
tests/test_api/test_schemas.py::TestRiskAssessment::test_create_high_risk PASSED [ 91%]
tests/test_api/test_schemas.py::TestRiskAssessment::test_create_critical_risk PASSED [ 92%]
tests/test_api/test_schemas.py::TestRiskAssessment::test_risk_probability_bounds PASSED [ 93%]
tests/test_api/test_schemas.py::TestInterventionRecommendation::test_minimal_intervention PASSED [ 94%]
tests/test_api/test_schemas.py::TestInterventionRecommendation::test_critical_intervention PASSED [ 95%]
tests/test_api/test_schemas.py::TestInterventionRecommendation::test_intervention_has_action PASSED [ 96%]
tests/test_api/test_schemas.py::TestBatchRequest::test_valid_batch_request PASSED [ 97%]
tests/test_api/test_schemas.py::TestBatchRequest::test_empty_batch_rejected PASSED [ 98%]
tests/test_api/test_schemas.py::TestBatchRequest::test_batch_with_options PASSED [100%]

============================= 94 passed in 0.98s ==============================
